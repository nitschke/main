\newcommand{\trace}{\text{Trace}}


\chapter{Appendix}

\section{Algorithmen}
  
  
  \subsection{Element-Knotenkräfte}
    \label{AlgoForces}
    Berechnung der Knotenkräfte \texttt{Force}\( \in\R^{3}\times\R^{3} \) für ein Element:

    \begin{verbatim}
    for all v in T:
        T <-> [v,v0,v1]
        
        E0 = X(v0) - X(v)
        l0 = length(E0)
        forceLength = d * (l0/lRef - k)

        E1 = X(v1) - X(v)
        l1 = length(E1)
        forceAngle = (d - 1) * ((E0.E1) / (l0*l1) - c);

        Force(v) += project( (forceLength + forceAngle)*(E0/l0) 
                                          + forceAngle *(E1/l1) ) 
    \end{verbatim}

    Parameter \texttt{c,d,k}\( \in\R \), 
    Koordinatenabbildung \texttt{X}\(: \sigma^{0} \mapsto \vec{x}\in M \subset \R^{3} \) 
    und Tangentialprojektion \texttt{project}\(: \R^{3} \rightarrow T_{p}M \subset \R^{3} \)
    sind (approximativ oder exakt) gegeben.

    Zu Beachten ist hierbei, dass die Kantenkraft \texttt{forceLength} nur auf einem Knoten aufgetragen wird.
    Der andere Knoten der ebenfalls zu dieser Kante gehört bekommt die gleiche Kantenkraft aufdatiert, wenn die Knotenkräfte auf dem 2. Dreieckelement, das sich diese Kante teilt, berechnet
    werden.

\section{Krümmungsgrößen für impliziten Oberflächen}

  Es sei \( \varphi\in C^{2}(\R^{3}) \) gegeben mit \( M = \left\{ \vec{x}\in\R^{3} \middle| \varphi(\vec{x}) = 0 \right\} \).
  Die Gaußkrümmung \( \mathfrak{K} \) und die Mittlere Krümmung \( \mathfrak{H} \) von \( M \) berechnet sich wie folgt (siehe \cite{CurvatureFormulas}):
  \begin{align}
    \mathfrak{K} &= \frac{\nabla^{T}\varphi \cdot H^{*}[\varphi] \cdot \nabla\varphi}{ \|\nabla\varphi\|_{2}^{4}}
                 = - \frac{\det \begin{bmatrix} H[\varphi] & \nabla\varphi \\ \nabla^{T}\varphi & 0 \end{bmatrix}}{\|\nabla\varphi\|_{2}^{4}} \\
    \mathfrak{H} &= \frac{\nabla^{T}\varphi \cdot H[\varphi] \cdot \nabla\varphi - \|\nabla\varphi\|_{2}^{2}\cdot\trace(H[\varphi])}
                        {2\cdot\|\nabla\varphi\|_{2}^{3}}
  \end{align}
  wobei \( H^{*}[\varphi] \) die Adjunkte\footnote{nicht Adjungierte!} des Hessian \( H[\varphi] \) ist.


\section{Oberflächenbeispiele}

  \subsection{Einheitssphäre}
    \label{sphere}

    \subsubsection{Level-Set-Funktion}
      \begin{align}
        \varphi(\vec{x}) &:= \frac{1}{2}\left( \|\vec{x}\|_{2}^{2} - 1 \right) \\
        \nabla\varphi(\vec{x}) &= \vec{x} \\
        H[\varphi] &\equiv I
      \end{align}

     \subsubsection{Krümmungsgrößen}
      \begin{align}
        \mathfrak{K} &\equiv 1
      \end{align}

  \subsection{Ellipsoid}
    \label{heineC}
    
    \subsubsection{Level-Set-Funktion}
      \begin{align}
        \varphi(x,y,z) &:= \frac{1}{2}\left( (3x)^{2} + (6y)^{2} + (2z)^{2} - 9 \right) \\
        \nabla\varphi(x,y,z) &= \left[ 9x, 36y, 4z \right]^{T} \\
        H[\varphi] &\equiv \begin{bmatrix} 9 & 0 & 0 \\
                                             0 & 36 & 0 \\
                                             0 & 0 & 4 \end{bmatrix}
      \end{align}

     \subsubsection{Krümmungsgrößen}
      \begin{align}
        \mathfrak{K}(x,y,z) &= \frac{11664}{(81+972y^{2}-20z^{2})^{2}}
      \end{align}
